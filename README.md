# domain-report

domain - Block Chain

지역 : 서울
반 : 5반
이름 : 김민지

날짜 : 2020년 8월 24일 월요일
- 강의 내용 요약
    - 블록체인 이란? : 신뢰를 만드는 기계
    
    - 서로 신뢰할 수 없는 환경에서 사람들이 중립적이고 중앙화된 인증기관 없이 신뢰를 보장하는 기술
    
    - P2P 네트워크를 이용하여 거래내역을 분산, 온라인 네트워크 참가자 모두에게 내용을 공개 및 기록
    
    - 새로운 거래가 일어날 때마다 노드들(참가자)이 가진 블록체인을 업데이트, 무결성을 유지하도록 하는 분산형 탈 중앙화 거래 시스템
    
    - 기본 금융 시스탬 : 중앙화
    
    - 블록체인 시스템 : 탈 중앙화
        - 퍼블릭 블록체인 : 권위있는 조직의 승인 없이 누구든지 인터넷에 연결된 PC, 노트북, 그스마트폰, 서버, 컴퓨터 채굴기 등 다양한 컴퓨터 장비를 이용하여 블록체인 네트워크에 참여가 가능. 공공 블록체인 또는 개방형 블록체인 이라고 함.
        - 프라이빗 블록체인 : 법적 책임을 지는 허가 받은 사람만 블록체인 네트워크에 참여할 수 있는 블록체인. 읽기, 쓰기, 합의 과정에 참여할 수 있는 참여자가 미리 지정되어 있고 필요에 따라 주체가 새로 추가되거나 제거 됨.
    
    - 블록체인 핵심기술 구성도
        - 5. 스마트 컨트랙트 : 계약 당사자가 사전에 협의한 내용을 미리 프로그래밍하여 전자 계약서 문서 안에 넣어두고, 이 계약 조건이 모두 충족되면 자동으로 계약 내용이 실행되도록 하는 실행되게 하는 시스템. 
        - 4. 합의 알고리즘 : 다수의 참여자들이 통일된 의사결정을 하기 위해 사용하는 알고리즘. 합의 모델, 합의 방식, 합의 매커니즘 또는 합의 프로토콜 이라고도 함.
        - 3. 파일 매니저 : 
        - 2. 암호화 : 일상적인 문자로 쓰이는 평문을 암호키를 소유하지 않은 사람이 알아볼수 없도록 암호문으로 변환하는 것. 반대말은 복호화.
        - 1. P2P 네트워크 : P2P란 개인 대 개인의 통신망. 즉, P2P 네트워크란 대등한 관계의 컴퓨터 그룹이 직접 통신을 수행하는 중심이 없는 네트워크 라는 의미.
    
    - 암호화폐
        - BitCoin
        - LiteCoin
        - Ripple
        - Ethereum
    
    - 비즈니스 도메인 활성화 코인
        - 게시물을 올리면 환전 가능한 암호화 화폐를 주는 - SNS 스팀잇(Steem It)
        - 콘텐츠(데이터)를 탈중앙화 시키고 인센티브를 통해 네트워크가 운영되는 클라우드 스토리지 서비스 - FileCoin
        - 사물인터넷과 블록체인을 융합한 새로운 플랫폼(M2M payment)
    
    - 비금융권 응용 확대 
        - 인증/관리
            - 전자 문서 관리
            - 인증 권환 관리
            - 디지털 신분증
        - 자산 거래
            - 부동산 거래 시장
            - 다이아몬드 인증/거래
            - 금/은 거래
        - 기타
            - 예측 시장
            - 온라인 투표
            - 개인 의료 정보
            - IoT
            - 디지털 콘텐츠 소유권
    
    - 블록체인과 공유경제 사회
        - 공유경제 : 한번 생산된 제품을 여럿이 공유해 쓰는 '협업소비' 근간의 경제 방식. 공유에 의해 재화나 서비스, 데이터 교환이 이뤄지는 시스템.

<br>

- 관련 내용 추가 서칭 학습 내용
    - 1) 블록체인이란?
        - 블록체인은 일종의 데이터 거래 장부. 개인과 개인의 거래(P2P) 데이터가 기록되는 장부인 블록(block)들이 형성된 후 시간의 흐름에 따라 순차적으로 연결되어 사슬(chain) 구조를 갖게 되어 블록체인이라 불림. 
        - 거래가 이루어지면 전체 블록에 내역이 기록이 되며 모든 사용자에게 공유되므로 모든 블록을 위·변조하는 건 불가능. 
        - 따라서 거래내역을 저장하는 중앙서버가 필요 없으며 보안성과 투명성이 장점으로 꼽힌다.
    - 2) 암호화폐란?
        - 블록체인 기술을 중심으로 개발된 비트코인 등을 암호화폐라 함.
        - 화폐의 발행과 거래 내역이 중앙서버를 거치지 않고 모든 이용자에게 공개되어 투명성을 지녔으며 해킹을 하기 위해서는 모든 컴퓨터를 동시에 공격해야 하기 때문에 보안 측면에서도 커다란 안정성을 지님.
        - 속도 측면에서 문제가 존재. 실제 서비스에서는 거래 요청이 많이 들어오는데 속도가 느리면 서비스가 진행되지 않기 때문에 문제 해결이 시급함.
    - 3) 코인과 토큰의 차이
        - 코인 : 독립적인 블록체인 네트워크(메인 넷)을 소유한 암호화폐로 비트코인(BTC), 이더리움(ETH) 등이 있음.
        - 토큰은 기존의 타 메인 넷을 이용하는 서비스로 오늘날 전 세계 토큰의 표준인 ERC-20(Ethereum Request for Comment) 토큰의 경우 이더리움 네트워크 블록체인을 기반으로 하는 DAPP (Decentralized Application)에서 사용할 수 있는 토큰을 의미함.
    
<br><br><br><br>
<hr>

날짜 : 2020년 8월 25일 화요일
- 강의 내용 요약
    - 이더리움 이란? : 
        - 2013년 나온 공개형 블록체인.
        - 분산 어플리케이션을 위한 플랫폼을 표방.
        - 이더 : 이더리움에서 발행한 암호화폐
        - 거래, 스마트 컨트랙트 비용 지불 등 이더리움이 동작하기 위한 것
    
    - 분산화 된 상태전이 머신
        - 트랜잭션에 기반한 상태전이 : 단, 이전 상태로 되돌아갈 수 없음.
        - 암호화 알고리즘을 활용 : 무작위로 상태전이가 일어나는 것을 방지.
        - 모든 참여자가 동일한 상태를 공유
        - 블록은 해당 시점의 이더리움의 상태를 나타낸다고 볼 수 있음 : 현재 블록 -> 현재 이더리움의 상태
        - 제네시스 블록 : 이더리움의 최초 상태
    
    - 이더리움 계정의 종류
        - 외부 소유 계정
            - ETH 잔액 유지
            - 개인 키를 통한 주소 관리
            - ETH 전송, 컨트랙트 실행을 위한 거래 전송 가능
            - 컨트랙트 코드를 가지고 있지 않음. (빈 문자영 hash 값)
        
        - 컨트랙트 계정
            - ETH 잔액 유지
            - 주소를 가지고 있으나 개인키는 존재하지 않음.
            - 컨트랙트 코드를 보유.
            - 거래나 메시지를 수신하면 보유하고 있는 컨트랙트 코드를 실행
        
    - 상태
        - 어느 한 시점에 대한 Ether의 잔액, 기타 정보를 담고 있는 계정들의 집합
        - 모든 이더리움의 참여 노드를 로컬에 상태 정보를 유지함.
        - stateObject
            - 상태의 수정이 발생한 이더리움 계정을 나타내는 객체.
            - 주요 데이터 : 참고...
            - stateObject를 통해 이더리움의 state database인 LevelDB에 업데이트.
    
    - 이더리움의 상태 전이
        - 블록 채굴로 인한 거래 내역 추가 시 상태 전이 발생
        - 상태 전이함수에 의해 수행.
    
    - 트랜잭션 종류
        - (외부) 트랜잭션
        - 내부 트랜잭션
    
    - 트랜잭션
        - EOA가 다른 EOA 혹은 CA로 보내는 '서명된 메시지'
            - EOA -> EOA : ETH 잔액 변경(ETH 송금)
            - EOA -> CA : 컨트랙트 코드 실행
        - 걔정의 상태 변화를 유도하는 일종의 트리거
    
    - 내부 트랜잭션
        - CA가 다른 CA 혹은 EOA에게 전달하는 '서명되지 않은 메시지'
        - 주로 컨트랙트 함수 호출에 사용
        - 블록체인에 별도로 저장되지 않음.
    
    - 트랜잭션 구조
        - ``` type txdata struct {
            AccountNonce //외부 트랜잭션의 수
            Price //트랜잭션 수수료
            GasLimit //트랜잭션 실행을 위해 지불할 최대 가스양
            Recipient //거래의 수신처
            Amount //거래하고자 하는 ETH의 양
            Payload //메시지, 함수 호출 등
            V, R, S //서명정보
        } 
    
    - 트랜잭션 리시트
        - 트랜잭션의 실행결과를 기록
        - 검색을 위한 인덱스, 해당 트랜잭션이 포함된 블록의 번호 및 해시 등 저장
        - 주요 데이터...
    
    - 블록
        - 이더리움 장부에 기록되는 데이터의 기본 단위
        - 트랜잭션들의 집합
        - 주요 데이터...

<br>

- 관련 내용 추가 서칭 학습 내용
    - 1) 트랙잭션 이란? 
        - 쪼갤 수 없는 업무 처리의 최소 단위
        - 거래내역 이라고도 함.
        - 1초당 처리할 수 있는 트랜잭션의 개수를 TPS 라고 함.
        - 트랜잭션 처리가 정상적으로 완료된 경우 커밋을 하고, 오류가 발생할 경우 원래 상태로 롤백을 한다.
        - 데이터베이스의 트랜잭션이 안전하게 수행되기 위해서는 ACID 조건을 충족해야 한다.
        - ACID 란?
            - 원자성 (Atomicity) : 하나의 트랜잭션은 더 이상 작게 쪼갤 수 없는 최소한의 업무 단위이다.
            - 일관성 (consistency) : 트랜잭션이 완료된 결과값은 일관성 있는 데이터베이스 상태로 유지되어야 한다.
            - 고립성 (isolation) : 트랜잭션을 수행하는 도중에 다른 연산 작업이 끼어들어서는 안된다.
            - 지속성 (durability) : 성공적으로 수행된 트랜잭션은 영구적으로 반영되어야 한다.

<br><br><br><br>
<hr>

날짜 : 2020년 8월 26일 수요일
- 강의 내용 요약
    - 엉클 블록
        - 동일한 시점에 채굴된 블록 중 채굴 난이도가 낮아 메인 체인에 연결되지 못한 블록
        - 블록 생성 시간이 빠를수록 엉클 블록의 발생 확률이 높음.
            - 비트코인 -> 약 10분,  이더리움 -> 약 14초
        - 문제점
            - 엉클 블록에 포함된 트랜잭션은 승인되지 않았기 때문에 트랜잭션 처리 지연 발생
            - 승인되지 않은 블록에 연산이 소모되어 연산량이 낭비됨.
            - 평균 블럭생성 시간이 늘어나 채굴 난이도가 감소하게 되어 네트워크의 보안 수준이 낮아짐.
    
    - 작업 증명(PoW)
        - Ethash
            - 비트코인의 PoW의 문제점 (낮은 ASIC 저항성)을 개선
            - ASIC(Application Specific Integrated Circuit) 저항성을 높임.
            - 계산은 어렵게, 검증은 쉽게
    
    - 지분증명(PoS)
        - 검증자가 가진 지분(Stake)에 비례한 확률로 블록 생성 권한을 획득하고 생성된 블록을 원하는 체인에 연결, 보상 획득
        - PoW의 문제점을 개선
            - 전력 소모량, 채굴 중앙화 등
        - 이더리움은 Casper를 통해 PoS로 전환 중
    
    - 스마트 컨트랙트
        - 스마트 컨트랙트 개발언어
            - Solidity : 현재 가장 많이 사용되고 있는 이더리움 스마트 컨트랙트 언어
            - SERPENT : 초창기 이더리움의 스마트 컨트랙트 언어
            - LLL : (EVM을 위한) 어셈블리 언어와 유사
    
    - 스마트  컨트랙트의 배포
        - 스마트 컨트랙트를 이더리움에 배포하기 위해
            - Recipient -> 수신자 미정(0으로 할당)
            - Payload -> Bytecode와 ABI
            - 스마트 컨트랙트 배포를 위한 가스
        를 담은 특수한 형태의 트랜잭션을 생성, 전송
    
    - 스마트 컨트랙트의 실행
        - 스마트 컨트랙트를 실행하기 위해
            - Recipient -> 해당 스마트 컨트랙트의 CA
            - Payload -> 실행하려는 함수, 매개변수
            - 스마트 컨트랙트 실행을 위한 가스를 담은 형태의 트랜잭션을 생성, 전송
            
    - 가스
        - 이더리움을 움직이게 하는 '기본 단위'
        - 트랜잭션, 스마트 컨트랙트를 위한 수수료
            - 최대가스 X 가스가격
        - 가스 가격의 기본 단위 : Gwei (1Gwei = 0.00000001 ETH)
            - 이는 사용자가 정의할 수 있으며 단위가 클수록 트랜잭션의 빠른 처리가 가능.
            - SafeLow -> 1 Gwei,  Fast -> 4 Gwei
    
    
<br>

- 관련 내용 추가 서칭 학습 내용
    - 스마트 컨트랙트의 경우, 가스는 함수 종류에 따라 비용 차등 부여
    - 계정, 트랜잭션의 생성 -> 서명 -> 검증 -> 채굴
    - 기존의 블록체인 1.0 기술이 '과거에 일어났던 일'을 기록한다면, 스마트 계약 기능을 구현한 블록체인 2.0 기술은 '미래에 일어날 일'을 미리 기록해 둘 수 있다.

<br><br><br><br>
<hr>

날짜 : 2020년 8월 27일 목요일
- 강의 내용 요약
    - EVM (Ethereum Virtual Machine)
        - 이더리움 블록체인 네트워크 노드들이 공유하는 하나의 가상 머신이다.
        - 하나의 거대한 분산 컴퓨터
        - 여러 사용자가 프로그램 실행을 위해 접근이 가능하고 트랜잭션을 보낼 수 있는데 동시에 A가 C를 1로 바꾸고 B가 C를 2로바꾸는 동시성 문제에 대해 마이닝과 합의 알고리즘을 통해 해결해주는 역할을 한다.
        - EVM을 이용하기 위해서는 솔리디티로 짠 스마트 컨트랙트 코드를 솔리디티 컴파일러가 이더리움 바이트 코드(Ethereum Bytecode)로 변환시켜 EVM에서 실행시킬 수 있다.
        - EVM이 동작하는 순서
            - 1. 트랜잭션이 올바른 형식인지 확인
            - 2. 트랜잭션 수수료 계산(Gas limit x Gas Price)
            - 3. Gas 지불 초기화. 이 시점부터 트랜잭션에서 처리된 바이트만큼 특정 양의 가스를 차감
            - 4. 트랜잭션 금액을 수신 계정으로 보냄 (Smart Contract도 이 단계에서 실행됨)
            - 5. 송신 계정에 트랜잭션을 완료할 수 있을 만큼 Gas Price가 충분하지 않으면 트랜잭션의 모든 변경 사항이 되돌려지지만 트랙잰션 수수료는 채굴자에게 지불되고 환불되지 않음
            - 6. 5번의 경우와 다른 이유로 트랜잭션이 실패한 경우, 송신 계정에 Gas price를 환불하고, 채굴자가 사용된 Gas와 관련된 비용은 채굴자에게 전달됨
        
    - 솔리디티(Solidity)
        - 계약 지향 프로그래밍 언어로 다양한 블록체인 플랫폼의 스마트계약(Smart Contract) 작성 및 구현에 사용된다.
        - 정적타입(statically-typed)의 프로그래밍 언어로 EVM상에서 작동하는 스마트계약을 개발하기 위해 설계되었다.
    
    
<br>

- 관련 내용 추가 서칭 학습 내용
    - 솔리디티 코드 문법
        - 표현식 : 값을 출력하는 함수를 '표현식 함수(expression function)라고 한다. 표현식은 하나의 유형 또는 다른 값으로 정의되므로 프로그래밍에서 값을 대체하여 사용할 수 있다. 그 밖의 함수는 명령문 작성에 있어서 매우 중요한 역할을 하는 선언적(declarative) 함수이다. 선언적 함수는 컴퓨터 메모리에 전용 공간을 생성해 함수의 루틴을 실행할 때마다 사용하게 된다.
        - 문장 : 일반적으로 문장(statement)은 컴퓨터에 작업을 지시하는 역할을 하며 줄여서 문이라고도 불린다. 컴퓨터는 표현식을 사용하여 이 작업을 수행하는 방법과 시기를 파악한다. 따라서 표현식의 종합이 문이되고 문의 구성으로 이루어 지는 것이 컴퓨터 프로그램이다.
        - 퍼블릭 프라이빗 함수 : 퍼블릭(Public)은 외부 및 내부에서 볼 수 있는 것을 뜻하고 프라이빗(Private)은 현재의 계약에서만 볼 수 있는 것을 의미한다. 자바스크립트와 솔리디티는 각 명령문 끝에 세미콜론(;)을 사용해 해당 문의 종료를 알려 뒤에 다른 문이 올것이라는 것을 컴퓨터에 알릴 수 있다. 솔리디티에서는 특정 함수를 해당 프로그램 외부에서 사용 가능하게 할지 여부를 선언할 수 있고 그에 따라 퍼블릭과 프라이빗이 구분된다. 퍼블릭하게 정의 되지 않은 함수는 해당 계약 외부에서 접근이 불가능하다.
        - 자료형 : 솔리디티 코드를 통해 각 알고리즘 명령에서 예상할 수 있는 자료형을 컴퓨터에 알릴 수 있다.
        - 불 : 불(bool)은 코드 상에서 불(bool)로 표시되며, 참 또는 거짓의 값을 가질 수 있어 비교문 등의 표현식에 쓰인다.
        - 부호 있는 정수와 부호 없는 정수 : 코드 상에서 int는 부호 있는 정수를 나타내며 uint는 부호 없는 정수를 의미한다. 부호 있는 정수는 음의 값을 가질 수 있지만, 부호 없는 정수는 양의 값만을 취할 수 있다.
        - 주소 : 주소는 20바이트 값을 가지며, 이 값은 이더리움 주소의 크기를 가진다.
        - 주소 멤버 : balance 와 transfer라는 두 멤버를 사용하면 계정의 잔액을 확인하거나, 계정으로 이더를 전송할 수 있다. 스마트 계약으로 이더를 전송할 때는 주의가 필요하다.
        - 주소 연관 키워드 : 키워드는 솔리디티 언어와 함께 제공되며 일종의 메소드로써, 미리 정해진 방법으로 언어를 사용하는 방법이다. 코드에서 키워드를 사용하면 스마트 계약에 필요한 공통적인 작업을 수행할 수 있다.

<br><br><br><br>
<hr>
